# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

ANDROID_APK_NAME := search-activity-debug

ANDROID_MANIFEST_FILE := $(CURDIR)/generated/AndroidManifest.xml

ANDROID_EXTRA_JARS += \
  search-activity-debug-R.jar \
  search-activity.jar \
  $(NULL)

JAVAFILES := \
  $(NULL)

PP_TARGETS += manifest
manifest := $(srcdir)/AndroidManifest.xml.in
manifest_PATH := $(CURDIR)/generated
manifest_FLAGS += \
  -DANDROID_SEARCH_ACTIVITY_TARGET_PACKAGE_NAME='$(ANDROID_PACKAGE_NAME)' \
  -DMOZ_ANDROID_SHARED_ID='$(ANDROID_PACKAGE_NAME).sharedID' \
  $(NULL)

PP_TARGETS += strings
strings := $(srcdir)/strings/strings.xml.in
strings_PATH := $(CURDIR)/generated/res/values

include $(topsrcdir)/config/rules.mk

libs:: $(ANDROID_APK_NAME).apk
